<h1 class="page-header">My Workouts</h1>

<div data-controller="dropdown">
    <% @workouts.each do |workout| %>
        <%= button_tag workout.date, class: "block text-xl mb-4 text-blue-400 hover:underline", data: { action: "click->dropdown#toggleAccordion" } %>
        <div class="hidden ml-4">
            <% workout.exercises.each do |exercise| %>
                <%= render "exercises/exercise", exercise: exercise %>
                <div class="mb-4 mt-2">
                    <div>
                        <%= render "exercises/exercises_show_link", workout: workout, exercise: exercise %>
                        <%= render "exercises/exercises_edit_link", workout: workout, exercise: exercise %>
                        <%= render "exercises/exercises_destroy_link", workout: workout, exercise: exercise %>
                    </div>
                </div>
            <% end %>
            
            <p><%= link_to "Add Exercise", new_workout_exercise_path(workout), class:"btn-primary", data: { turbo_frame: 'modal' } %></p>
        </div>

    <% end %>
</div>